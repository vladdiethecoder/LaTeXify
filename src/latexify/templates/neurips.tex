\documentclass{article}

% -- NeurIPS Style Constraints --
% NeurIPS uses [preprint] or [final] options. We default to preprint for safety.
\usepackage[preprint]{neurips_2023} 

% -- Core Packages --
\usepackage[utf8]{inputenc} % allow utf-8 input
\usepackage[T1]{fontenc}    % use 8-bit T1 fonts
\usepackage{hyperref}       % hyperlinks
\usepackage{url}            % simple URL typesetting
\usepackage{booktabs}       % professional-quality tables
\usepackage{amsfonts}       % blackboard math symbols
\usepackage{nicefrac}       % compact symbols for 1/2, etc.
\usepackage{microtype}      % microtypography
\usepackage{xcolor}         % colors
\usepackage{graphicx}       % graphics
\usepackage{amsmath}        % math environments
\usepackage{amsthm}         % math theorems

% -- Metadata --
\title{ {{ metadata.title | default("Generated Document") }} }

% -- Author Block --
\author{
{% for author in metadata.authors %}
  {{ author.name }}{% if author.affiliation %} \\
  {{ author.affiliation }}{% endif %} \\
  \texttt{ {{ author.email }} } \\
  {% if not loop.last %} \And {% endif %}
{% else %}
  LaTeXify User \\
  Generated by LaTeXify Pipeline
{% endfor %}
}

\begin{document}

\maketitle

% -- Abstract --
{% if content.abstract %}
\begin{abstract}
{{ content.abstract }}
\end{abstract}
{% endif %}

% -- Main Content --
{% for section in content.sections %}
\section{ {{ section.heading }} }
{{ section.body }}

{% for subsection in section.subsections recursive %}
\subsection{ {{ subsection.heading }} }
{{ subsection.body }}
{% if subsection.subsections %}
    {{ loop(subsection.subsections) }}
{% endif %}
{% endfor %}

{% endfor %}

% -- Bibliography --
{% if content.bibliography %}
\bibliographystyle{plain}
\bibliography{latexify_auto}
{% endif %}

% -- Appendices --
{% if content.appendices %}
\appendix
{% for appendix in content.appendices %}
\section{ {{ appendix.heading }} }
{{ appendix.body }}
{% endfor %}
{% endif %}

\end{document}
